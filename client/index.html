<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>chatterbox</title>
    <link rel="stylesheet" href="styles/styles.css">

    <!-- dependencies -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script>
      // YOU DO NOT NEED TO EDIT THIS CODE
      if (!/(&|\?)username=/.test(window.location.search)) {
        var newSearch = window.location.search;
        if (newSearch !== '' & newSearch !== '?') {
          newSearch += '&';
        }
        newSearch += 'username=' + (prompt('What is your name?') || 'anonymous');
        window.location.search = newSearch;
      }
    </script>
    <!-- your scripts -->
    <script src="env/config.js"></script>
    <script src="scripts/app.js"></script>
  </head>
  <body>
    <div id="main">
      <h1>chatterbox</h1>
     

      <!-- Your HTML goes here! -->
    </div>
    <div id="inputMessages">
      <form method="POST" id="send">
        <input type="text" id="roomSelect"  name="roomSelect">
        <input type="text" id="message" class="" name="inputText">
        <input type="submit" id="submit" class="submit" name="submitBtn" value="Submit">
      </form>
    </div>
    <button id='clearMessagesBtn' type='button'>Clear those Messages!</button>    
    <div id="chats"></div>
    <script>
      $('#send').submit((event)=>{
        let text = $('#message').val();
        let username = app.parseUser(window.location.search);
        let roomname = $('#roomSelect').val();
        //let user;
        let newObj = {
          username,
          text,
          roomname
        };
        app.handleSubmit(newObj);
        event.preventDefault();
      });

      $('#clearMessagesBtn').click((event) => {
        app.clearMessages();
      });
    </script>
  </body>
</html>
